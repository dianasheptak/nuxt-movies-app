import{_ as N}from"./nuxt-link.1a422de4.js";import{a as T,b as P,e as _,o as p,f as v,h as F,w as A,i as a,u,t as g,r as b,j as B,k as D,l as M,v as R,m as U,F as V,p as q,q as h,c as L}from"./entry.70140149.js";import"./app.config.1f4062f2.js";import{u as S}from"./fetch.6081bd3a.js";const W={class:"h-128 w-64 border flex flex-col text-center"},O=["src"],E={class:"text-lg px-1 text-center"},Q={class:"px-2 text-m text-lightgray break-words text-wrap truncate overflow-hidden"},z=T({__name:"MovieCard",props:{movie:{type:Object}},setup(t){const o=t,s=P();console.log(o);const e=_(()=>{var n;return((n=o.movie)==null?void 0:n.poster_path)!=null?`${s.public.imgBaseUrl}/${o.movie.poster_path}`:"https://via.placeholder.com/300x500d"});return(n,l)=>{var i,d,r;const x=N;return p(),v("div",W,[F(x,{to:`/movies/${(i=t.movie)==null?void 0:i.id}`,class:"mb-5 bg-green-600 inline-block"},{default:A(()=>[a("img",{class:"transform hover:translate-x-6 hover:translate-y-6 delay-50 duration-100 inline-block",src:u(e)},null,8,O)]),_:1},8,["to"]),a("p",E,g((d=t.movie)==null?void 0:d.title),1),a("p",Q,g((r=t.movie)==null?void 0:r.overview),1)])}}});var k;const G=typeof window<"u",$=()=>{};G&&((k=window==null?void 0:window.navigator)!=null&&k.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function C(t){return typeof t=="function"?t():u(t)}function H(t,o){function s(...e){return new Promise((n,l)=>{Promise.resolve(t(()=>o.apply(this,e),{fn:o,thisArg:this,args:e})).then(n).catch(l)})}return s}function I(t,o={}){let s,e,n=$;const l=i=>{clearTimeout(i),n(),n=$};return i=>{const d=C(t),r=C(o.maxWait);return s&&l(s),d<=0||r!==void 0&&r<=0?(e&&(l(e),e=null),Promise.resolve(i())):new Promise((m,c)=>{n=o.rejectOnCancel?c:m,r&&!e&&(e=setTimeout(()=>{s&&l(s),e=null,m(i())},r)),s=setTimeout(()=>{e&&l(e),e=null,m(i())},d)})}}function J(t,o=200,s={}){return H(I(o,s),t)}function K(t,o=200,s={}){const e=b(t.value),n=J(()=>{e.value=t.value},o,s);return B(t,()=>n()),e}const X={class:"flex flex-col py-10"},Y=a("div",null,[a("h2",{class:"text-2xl font-bold text-center"},"Nuxt Movies App")],-1),Z={class:"flex justify-center items-center h-32"},ee={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 self-center gap-x-10 gap-y-10 mb-10"},te={key:0,class:"flex justify-center"},oe={class:"px-4 py-2 text-m border rounded-lg"},le=T({__name:"index",async setup(t){let o,s;const e=b(""),n=b(1),l=_(()=>n.value===1),x=_(()=>{var m;return n.value+1===((m=r.value)==null?void 0:m.total_pages)}),i=K(e,700),d=_(()=>`api/movies/search?query=${i.value}&page=${n.value}`),{data:r}=([o,s]=D(()=>S(d,"$pqtWcjQkdb")),o=await o,s(),o);return(m,c)=>{var y,w;const j=z;return p(),v("div",X,[Y,a("div",Z,[M(a("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>U(e)?e.value=f:null),placeholder:"Search",type:"text",class:"px-2 py-1 border border-gray-800 rounded-md min-w-64"},null,512),[[R,u(e)]])]),a("div",ee,[(p(!0),v(V,null,q((y=u(r))==null?void 0:y.results,f=>(p(),L(j,{movie:f,key:f.id},null,8,["movie"]))),128))]),(w=u(r))!=null&&w.results.length?(p(),v("div",te,[u(l)?h("",!0):(p(),v("button",{key:0,onClick:c[1]||(c[1]=f=>n.value--),class:"px-4 py-2 text-m border rounded-lg"},"Previous")),a("div",oe,g(u(n)),1),u(x)?h("",!0):(p(),v("button",{key:1,onClick:c[2]||(c[2]=f=>n.value++),class:"px-4 py-2 text-m border rounded-lg"},"Next"))])):h("",!0)])}}});export{le as default};
